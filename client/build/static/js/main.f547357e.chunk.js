(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{36:function(e,a,t){e.exports=t(93)},41:function(e,a,t){},43:function(e,a,t){},93:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(30),l=t.n(o),s=(t(41),t(8)),c=t(9),i=t(12),m=t(10),u=t(13),d=(t(43),t(95)),h=t(97),p=t(96),b=t(15),f=t(2),g=t(3),v=t.n(g),E=function(){return v.a.get("/api/consumers/")},N=function(e){return v.a.post("/api/consumers",e)},w=function(e){return v.a.get("/api/vendors/"+e)},C=function(){return v.a.get("/api/vendors/")},_=function(e){return v.a.post("/api/vendors",e)},O=function(e){return v.a.get("/api/products/"+e)},y=function(e){return v.a.post("/api/products",e)},S=function(e){return v.a.get("/api/links/"+e)},j=function(e){return v.a.post("/api/links",e)},k=function(e){return v.a.get("/api/codes/"+e)},V=function(e){return v.a.post("/api/codes",e)};var I=function(e){return r.a.createElement("div",null,r.a.createElement("h2",null,"Customer Sign In"),r.a.createElement("p",{onClick:e.isNew},"Or Sign Up"),r.a.createElement("div",{className:"form-group"},r.a.createElement("form",{onSubmit:e.handleConsumerFormSubmit},r.a.createElement("p",{className:"form-label"},"User Name:"),r.a.createElement("input",{name:"user_name",className:"form-control",type:"text",value:e.user_name,placeholder:"username",onChange:e.handleChange}),r.a.createElement("br",null),r.a.createElement("p",{className:"form-label"},"Password:"),r.a.createElement("input",{name:"user_password",className:"form-control",type:"password",value:e.user_password,placeholder:"password",onChange:e.handleChange}),r.a.createElement("br",null),r.a.createElement("button",{className:"btn btn-success"},"Submit"))))};var F=function(e){return r.a.createElement("div",null,r.a.createElement("h2",null,"Vendor Sign In"),r.a.createElement("p",{onClick:e.isNew},"Or Sign Up"),r.a.createElement("div",{className:"form-group"},r.a.createElement("form",{onSubmit:e.handleVendorFormSubmit},r.a.createElement("p",{className:"form-label"},"User Name:"),r.a.createElement("input",{name:"user_name",className:"form-control",type:"text",value:e.user_name,placeholder:"username",onChange:e.handleChange}),r.a.createElement("br",null),r.a.createElement("p",{className:"form-label"},"Password:"),r.a.createElement("input",{name:"user_password",className:"form-control",type:"password",value:e.user_password,placeholder:"password",onChange:e.handleChange}),r.a.createElement("br",null),r.a.createElement("button",{className:"btn btn-success"},"Submit"))))};var x=function(e){return r.a.createElement("div",null,r.a.createElement("h1",null,"Customer Signup"),r.a.createElement("p",{onClick:e.isNew},"Or Sign In"),r.a.createElement("div",{className:"form-group"},r.a.createElement("form",{onSubmit:e.handleNewConsumerSubmit},r.a.createElement("p",{className:"form-label"},"Name:"),r.a.createElement("input",{name:"person_name",className:"form-control",type:"text",value:e.person_name,placeholder:"First Lasterson",onChange:e.handleChange}),r.a.createElement("br",null),r.a.createElement("p",{className:"form-label"},"Email:"),r.a.createElement("input",{name:"email",className:"form-control",type:"text",value:e.email,placeholder:"me@me.com",onChange:e.handleChange}),r.a.createElement("br",null),r.a.createElement("p",{className:"form-label"},"Mobile:"),r.a.createElement("input",{name:"phone_number",className:"form-control",type:"text",value:e.phone_number,placeholder:"789-123-4560",onChange:e.handleChange}),r.a.createElement("br",null),r.a.createElement("p",{className:"form-label"},"User Name:"),r.a.createElement("input",{name:"user_name",className:"form-control",type:"text",value:e.user_name,placeholder:"username",onChange:e.handleChange}),r.a.createElement("br",null),r.a.createElement("p",{className:"form-label"},"Password:"),r.a.createElement("input",{name:"user_password",className:"form-control",type:"password",value:e.user_password,placeholder:"password",onChange:e.handleChange}),r.a.createElement("br",null),r.a.createElement("button",{className:"btn btn-dark"},"Submit"))))};var L=function(e){return r.a.createElement("div",null,r.a.createElement("h1",null,"Vendor Signup"),r.a.createElement("p",{onClick:e.isNew},"Or Sign In"),r.a.createElement("div",{className:"form-group"},r.a.createElement("form",{onSubmit:e.handleNewVendorSubmit},r.a.createElement("p",{className:"form-label"},"Company Name:"),r.a.createElement("input",{name:"company_name",className:"form-control",type:"text",value:e.company_name,placeholder:"Good Business, Inc.",onChange:e.handleChange}),r.a.createElement("br",null),r.a.createElement("p",{className:"form-label"},"Location:"),r.a.createElement("input",{name:"location",className:"form-control",type:"text",value:e.location,placeholder:"City, State/Province, Country",onChange:e.handleChange}),r.a.createElement("br",null),r.a.createElement("p",{className:"form-label"},"Email:"),r.a.createElement("input",{name:"email",className:"form-control",type:"text",value:e.email,placeholder:"me@goodbusiness.com",onChange:e.handleChange}),r.a.createElement("br",null),r.a.createElement("p",{className:"form-label"},"Phone Number:"),r.a.createElement("input",{name:"phone_number",className:"form-control",type:"text",value:e.phone_number,placeholder:"789-123-4560",onChange:e.handleChange}),r.a.createElement("br",null),r.a.createElement("p",{className:"form-label"},"Website:"),r.a.createElement("input",{name:"website",className:"form-control",type:"text",value:e.website,placeholder:"www.goodbusiness.com",onChange:e.handleChange}),r.a.createElement("br",null),r.a.createElement("p",{className:"form-label"},"User Name:"),r.a.createElement("input",{name:"user_name",className:"form-control",type:"text",value:e.user_name,placeholder:"username",onChange:e.handleChange}),r.a.createElement("br",null),r.a.createElement("p",{className:"form-label"},"Password:"),r.a.createElement("input",{name:"user_password",className:"form-control",type:"password",value:e.user_password,placeholder:"password",onChange:e.handleChange}),r.a.createElement("br",null),r.a.createElement("button",{className:"btn btn-dark"},"Submit"))))},U=function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(i.a)(this,Object(m.a)(a).call(this,e))).state={isLoggedIn:!1,isVendor:!1,isNew:!1,user_name:"",user_password:"",email:"",phone_number:"",person_name:"",website:"",location:"",company_name:""},t.handleChange=t.handleChange.bind(Object(f.a)(Object(f.a)(t))),t.checkVendorLogIn=t.checkVendorLogIn.bind(Object(f.a)(Object(f.a)(t))),t.checkConsumerLogIn=t.checkConsumerLogIn.bind(Object(f.a)(Object(f.a)(t))),t.handleConsumerFormSubmit=t.handleConsumerFormSubmit.bind(Object(f.a)(Object(f.a)(t))),t.handleVendorFormSubmit=t.handleVendorFormSubmit.bind(Object(f.a)(Object(f.a)(t))),t.isVendor=t.isVendor.bind(Object(f.a)(Object(f.a)(t))),t.isNew=t.isNew.bind(Object(f.a)(Object(f.a)(t))),t.handleNewVendorSubmit=t.handleNewVendorSubmit.bind(Object(f.a)(Object(f.a)(t))),t.handleNewConsumerSubmit=t.handleNewConsumerSubmit.bind(Object(f.a)(Object(f.a)(t))),t}return Object(u.a)(a,e),Object(c.a)(a,[{key:"isVendor",value:function(){this.state.isVendor?this.setState({isVendor:!1}):this.setState({isVendor:!0})}},{key:"isNew",value:function(){this.state.isNew?this.setState({isNew:!1}):this.setState({isNew:!0})}},{key:"handleChange",value:function(e){var a=e.target,t=a.name,n=a.value;this.setState(Object(b.a)({},t,n))}},{key:"checkConsumerLogIn",value:function(e,a){e.user_name===a.user_name&&e.user_password===a.user_password&&this.setState({isLoggedIn:!0,user_name:e.user_name})}},{key:"handleConsumerFormSubmit",value:function(e){var a=this;e.preventDefault();var t=this.state;E().then(function(e){e.data.map(function(e){return a.checkConsumerLogIn(t,e)})}).then(function(e){a.state.isLoggedIn?window.location.pathname="/consumer/".concat(a.state.user_name):alert("Username or password is incorrect. Please try again or sign up.")}).catch(function(e){return console.log(e)})}},{key:"checkVendorLogIn",value:function(e,a){e.user_name===a.user_name&&e.user_password===a.user_password&&this.setState({isLoggedIn:!0,user_name:e.user_name})}},{key:"handleVendorFormSubmit",value:function(e){var a=this;e.preventDefault();var t=this.state;C().then(function(e){e.data.map(function(e){return a.checkVendorLogIn(t,e)})}).then(function(e){a.state.isLoggedIn?window.location.pathname="/vendor/".concat(a.state.user_name):alert("Username or password is incorrect. Please try again or sign up.")}).catch(function(e){return console.log(e)})}},{key:"handleNewVendorSubmit",value:function(e){var a=this;e.preventDefault();var t=this.state;C().then(function(e){e.data.map(function(e){return e.user_name===t.user_name?alert("That username is already in use. Please select something else."):console.log("not a match")})}),t.company_name&&t.email&&t.phone_number&&t.user_password&&t.location&&t.user_name?console.log("good entry"):alert("You must fill in all fields to create a profile."),_(t).then(function(e){console.log("Vendor saved! "+JSON.stringify(e.data)),window.location.pathname="/vendor/".concat(a.state.user_name)}).catch(function(e){return console.log(e)})}},{key:"handleNewConsumerSubmit",value:function(e){var a=this;e.preventDefault();var t=this.state;E().then(function(e){e.data.map(function(e){return e.user_name===t.user_name?alert("That user name is already in use. Please select something else."):console.log("Unique!")})}),t.user_name&&t.email&&t.phone_number&&t.user_password&&t.person_name?console.log("All fields found!"):alert("You must fill in all fields to create a profile."),N(t).then(function(e){console.log("Consumer saved! "+JSON.stringify(e.data)),window.location.pathname="/consumer/".concat(a.state.user_name)}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){return r.a.createElement("div",{className:"main"},r.a.createElement("div",{className:"form-group"},r.a.createElement("form",null,r.a.createElement("h3",null,"I am a","  ",r.a.createElement("input",{type:"radio",name:"isConsumer",value:"consumer",checked:!this.state.isVendor,onChange:this.isVendor})," Consumer","  ",r.a.createElement("input",{type:"radio",name:"isVendor",value:"vendor",checked:this.state.isVendor,onChange:this.isVendor})," Producer"))),!this.state.isNew&&this.state.isVendor?r.a.createElement(F,Object.assign({},this.state,{handleChange:this.handleChange,handleVendorFormSubmit:this.handleVendorFormSubmit,isVendor:this.isVendor,isNew:this.isNew})):null,this.state.isNew||this.state.isVendor?null:r.a.createElement(I,Object.assign({},this.state,{handleChange:this.handleChange,handleConsumerFormSubmit:this.handleConsumerFormSubmit,isVendor:this.isVendor,isNew:this.isNew})),this.state.isNew&&!this.state.isVendor?r.a.createElement(x,Object.assign({},this.state,{handleChange:this.handleChange,handleNewConsumerSubmit:this.handleNewConsumerSubmit,isVendor:this.isVendor,isNew:this.isNew})):null,this.state.isNew&&this.state.isVendor?r.a.createElement(L,Object.assign({},this.state,{handleChange:this.handleChange,handleNewVendorSubmit:this.handleNewVendorSubmit,isVendor:this.isVendor,isNew:this.isNew})):null)}}]),a}(n.Component),P=t(31),D=t.n(P),J=t(35),A=function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(i.a)(this,Object(m.a)(a).call(this,e))).state={organic:!1,chemicals:"",harvest:"",grower:""},t.getInfo=t.getInfo.bind(Object(f.a)(Object(f.a)(t))),t}return Object(u.a)(a,e),Object(c.a)(a,[{key:"componentDidMount",value:function(){this.getInfo()}},{key:"getInfo",value:function(){var e=this;k(this.props.code_data).then(function(e){console.log(e.data)}),O(this.props.product_id).then(function(a){console.log(a.data),a.data&&e.setState({organic:a.data.certified_organic,chemicals:a.data.chemicals_used,createdAt:a.data.createdAt,harvest:a.data.harvest_date,grower:a.data.vendor_id})}),Object(J.a)(this.props.link_id).forEach(function(e,a){S(e).then(function(e){console.log(e.data)})})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("p",{className:"main"},"This was harvested on ".concat(this.harvest," by ").concat(this.grower,".\n\n                ").concat(this.organic?"It is certified organic.":null,"\n\n                ").concat(this.chemicals?"These pesticides and fertilizers were used: ".concat(this.chemicals):"No pesticides or fertilizers were used!")))}}]),a}(n.Component),W=window.location.href.split("/");console.log(W);var T=W[4]?W[4].split("sirlinksalot"):[];console.log(T);var z=function(e){function a(){var e,t;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=Object(i.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={result:"Please scan a product",scannerOn:!1,code_data:T[0],product_id:T[1],link_id:T.slice(2)},t.handleScan=function(e){e&&t.setState({result:e})},t.handleError=function(e){console.error(e)},t}return Object(u.a)(a,e),Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"main"},r.a.createElement("div",{className:"scanner"},this.state.scannerOn?r.a.createElement(D.a,{delay:300,onError:this.handleError,onScan:this.handleScan,style:{width:"100%"}}):null),r.a.createElement("p",null,this.state.result),this.state.scannerOn?null:r.a.createElement(A,this.state))}}]),a}(n.Component),B=t(32),M=t.n(B),Y=t(33);var q=function(e){return r.a.createElement(Y.QRCode,{bgColor:"#FFFFFF",fgColor:"#000000",level:"Q",style:{width:200},value:e.codedUrl})},G=(new Date).toLocaleDateString(),H=window.location.href.split("/")[4],Q=function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(i.a)(this,Object(m.a)(a).call(this,e))).state={vendor_id:1,product_id:1,link_id:1,harvest_date:G,chemicals_used:"",certified_organic:"",vendor_notes:"",code_value:"",codedUrl:"",location:""},t.handleChange=t.handleChange.bind(Object(f.a)(Object(f.a)(t))),t.handleFormSubmit=t.handleFormSubmit.bind(Object(f.a)(Object(f.a)(t))),t.getVendorInfo=t.getVendorInfo.bind(Object(f.a)(Object(f.a)(t))),t}return Object(u.a)(a,e),Object(c.a)(a,[{key:"componentDidMount",value:function(){this.getVendorInfo()}},{key:"getVendorInfo",value:function(){var e=this;w(H).then(function(a){e.setState({vendor_id:a.data[0].id,code_value:"".concat(M()())}),console.log("Got vendor info from the url: ".concat(a.data[0].user_name," - ").concat(e.state.vendor_id))})}},{key:"handleChange",value:function(e){var a=e.target,t=a.name,n=a.value;this.setState(Object(b.a)({},t,n))}},{key:"handleFormSubmit",value:function(e){var a=this;e.preventDefault();var t=this.state;t.harvest_date&&t.chemicals_used&&t.certified_organic?console.log("good entry"):alert("You must fill in all required fields to create a new product."),y(t).then(function(e){console.log("Product saved! "+JSON.stringify(e.data)),a.setState({product_id:e.data.id}),console.log("New product's id: "+a.state.product_id)}).then(function(e){var t=a.state;V(t).then(function(e){console.log("Code saved! "+JSON.stringify(e.data))}).then(function(e){var t=a.state;j(t).then(function(e){console.log("Link saved! "+JSON.stringify(e.data)),a.setState({link_id:e.data.id,codedUrl:"https://foodchains.herokuapp.com/consumer/".concat(t.code_value,"sirlinksalot").concat(e.data.id)}),console.log("New link's id: "+a.state.link_id)}).catch(function(e){return console.log(e)})}).catch(function(e){return console.log(e)})}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){return r.a.createElement("div",{className:"main"},r.a.createElement("h1",null,"Create Product"),r.a.createElement("div",{className:"form-group"},r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement("p",{className:"form-label"},"Harvest Date:"),r.a.createElement("input",{name:"harvest_date",className:"form-control",type:"text",value:this.state.harvest_date,onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement("p",{className:"form-label"},"What Chemicals Were Used?"),r.a.createElement("input",{name:"chemicals_used",className:"form-control",type:"text",value:this.state.chemicals_used,placeholder:"fertilizer name, pesticide name",onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement("p",{className:"form-label"},"Is This Product Certified Organic?"),r.a.createElement("input",{name:"certified_organic",className:"form-control",type:"text",value:this.state.certified_organic,placeholder:"I'll make this a pair of radios with a boolean switch",onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement("p",{className:"form-label"},"Notes / Comments:"),r.a.createElement("input",{name:"vendor_notes",className:"form-control",type:"text",value:this.state.vendor_notes,placeholder:"Additional details...",onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement("button",{className:"btn btn-dark"},"Submit")," ")),r.a.createElement("div",null,this.state.codedUrl?r.a.createElement(q,{codedUrl:this.state.codedUrl}):null),r.a.createElement("p",null,this.state.codedUrl))}}]),a}(n.Component);var R=function(){return r.a.createElement("div",null,r.a.createElement(Q,null))};var $=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"404 Page Not Found"),r.a.createElement("h1",null,r.a.createElement("span",{role:"img","aria-label":"Face With Rolling Eyes Emoji"},"\ud83d\ude44")))};var K=function(){return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-primary"},r.a.createElement("a",{className:"navbar-brand mx-auto navbar-text",href:"/"},"FOODCHAIN"))};var X=function(){return r.a.createElement("nav",{className:"bg-primary footer"},"Food Chain is a farm-to-table app to track how food travels from growers to consumers.")},Z=function(e){function a(){return Object(s.a)(this,a),Object(i.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(K,null),r.a.createElement(d.a,null,r.a.createElement(h.a,null,r.a.createElement(p.a,{exact:!0,path:"/",component:U}),r.a.createElement(p.a,{path:"/consumer",component:z}),r.a.createElement(p.a,{path:"/vendor",component:R}),r.a.createElement(p.a,{component:$}))),r.a.createElement(X,null))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(Z,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[36,2,1]]]);
//# sourceMappingURL=main.f547357e.chunk.js.map